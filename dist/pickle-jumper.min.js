!function t(e,i,s){function h(a,r){if(!i[a]){if(!e[a]){var n="function"==typeof require&&require;if(!r&&n)return n(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return h(i?i:t)},c,c.exports,t,e,i,s)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)h(s[a]);return h}({1:[function(t,e,i){!function(){"use strict";var e={Gameover:t("./pickle-jumper/state-gameover.js"),Play:t("./pickle-jumper/state-play.js"),Menu:t("./pickle-jumper/state-menu.js")},i=window.Pickle=function(t){this.options=t,this.el=this.options.el,this.$el=$(this.options.el),this.$=function(){return $(t.el).find},this.width=this.$el.width(),this.height=$(window).height()};_.extend(i.prototype,{start:function(){this.game=new Phaser.Game(this.width,this.height,Phaser.AUTO,this.el.replace("#","")),this.game.pickle=this,this.game.state.add("menu",e.Menu),this.game.state.add("play",e.Play),this.game.state.add("gameover",e.Gameover),this.highscoreLimit=10,this.getHighscores(),this.game.state.start("menu"),this.options.debug&&this.game.camera&&this.game.debug.cameraInfo(this.game.camera,10,10),this.options.debug&&(this.resetHighscores(),this.getHighscores())},getHighscores:function(){var t=window.localStorage.getItem("highscores");return t=t?JSON.parse(t):[],this.highscores=t,this.sortHighScores(),this.highscores},getHighscore:function(){return _.max(this.highscores,"score")},setHighscore:function(t,e){this.isHighscore(t)&&(this.sortHighScores(),this.highscores.length>=this.highscoreLimit&&this.highscores.shift(),this.highscores.push({name:e,score:t}),this.sortHighScores(),this.setHighscores())},sortHighScores:function(){this.highscores=_.sortBy(this.highscores,"score")},isHighscore:function(t){var e=_.min(this.highscores,"score").score;return t>e||this.highscores.length<this.highscoreLimit},isHighestScore:function(t){var e=_.max(this.highscores,"score").score||0;return t>e},setHighscores:function(){window.localStorage.setItem("highscores",JSON.stringify(this.highscores))},resetHighscores:function(){window.localStorage.removeItem("highscores")}});var s=new i({el:"#pickle-jumper",debug:!0});s.start()}()},{"./pickle-jumper/state-gameover.js":7,"./pickle-jumper/state-menu.js":8,"./pickle-jumper/state-play.js":9}],2:[function(t,e,i){!function(){"use strict";var t=function(t,e,i){Phaser.Sprite.call(this,t,e,i,"play-sprites","dill.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/9/this.width),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){}}),e.exports=t}()},{}],3:[function(t,e,i){!function(){"use strict";var t=function(t,e,i){Phaser.Sprite.call(this,t,e,i,"play-sprites","botchy.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/10/this.width),this.hover=!0,this.setHoverSpeed(100),this.hoverRange=100,this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0,this.paddingX=10,this.resetPlacement(e,i)};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){this.hover&&(this.body.velocity.x=this.body.velocity.x||this.hoverSpeed,this.body.velocity.x=this.x<=this.minX?this.hoverSpeed:this.x>=this.maxX?-this.hoverSpeed:this.body.velocity.x)},setHoverSpeed:function(t){this.hoverSpeed=t+this.game.rnd.integerInRange(-25,25)},getAnchorBoundsX:function(){return this.minX=Math.max(this.x-this.hoverRange,this.paddingX+this.width/2),this.maxX=Math.min(this.x+this.hoverRange,this.game.width-(this.paddingX+this.width/2)),[this.minX,this.maxX]},resetPlacement:function(t,e){this.reset(t,e),this.body.velocity.x=0,this.getAnchorBoundsX()}}),e.exports=t}()},{}],4:[function(t,e,i){!function(){"use strict";var t=function(t,e,i){Phaser.Sprite.call(this,t,e,i,"play-sprites","magicdill.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/20/this.width),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){}}),e.exports=t}()},{}],5:[function(t,e,i){!function(){"use strict";var t=function(t,e,i){Phaser.Sprite.call(this,t,e,i,"play-sprites","pickle.png"),this.anchor.setTo(.5),this.scale.setTo(this.game.width/25/this.width),this.game.physics.arcade.enableBody(this),this.yOrig=this.y,this.yChange=0};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){this.yChange=Math.max(this.yChange,Math.abs(this.y-this.yOrig)),this.game.world.wrap(this,this.width/2,!1,!0,!1)},resetPlacement:function(t,e){this.reset(t,e),this.yOrig=this.y,this.yChange=0}}),e.exports=t}()},{}],6:[function(t,e,i){!function(){"use strict";var t=function(t,e,i){Phaser.Sprite.call(this,t,e,i,"play-sprites","dillybean.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/5/this.width),this.hover=!1,this.setHoverSpeed(100),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0,this.body.checkCollision.down=!1,this.body.checkCollision.left=!1,this.body.checkCollision.right=!1,this.paddingX=10,this.getAnchorBoundsX()};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){this.hover&&(this.body.velocity.x=this.body.velocity.x||this.hoverSpeed,this.body.velocity.x=this.x<=this.minX?this.hoverSpeed:this.x>=this.maxX?-this.hoverSpeed:this.body.velocity.x)},setHoverSpeed:function(t){this.hoverSpeed=t+this.game.rnd.integerInRange(-50,50)},getAnchorBoundsX:function(){return this.minX=this.paddingX+this.width/2,this.maxX=this.game.width-(this.paddingX+this.width/2),[this.minX,this.maxX]},resetSettings:function(){this.reset(0,0),this.body.velocity.x=0,this.hover=!1,this.getAnchorBoundsX()}}),e.exports=t}()},{}],7:[function(t,e,i){!function(){"use strict";var t=function(){Phaser.State.call(this),this.padding=10};t.prototype=Object.create(Phaser.State.prototype),t.prototype.constructor=t,_.extend(t.prototype,Phaser.State.prototype,{preload:function(){this.game.load.image("gameover","assets/gameover.png"),this.game.load.image("play","assets/title-play.png")},create:function(){this.game.stage.backgroundColor="#8cc63f",this.titleImage=this.game.add.sprite(this.game.width/2,3*this.padding,"gameover"),this.titleImage.anchor.setTo(.5,0),this.titleImage.scale.setTo((this.game.width-8*this.padding)/this.titleImage.width),this.game.add.existing(this.titleImage),this.score=this.game.pickle.score,this.game.pickle.isHighscore(this.score)&&this.highscoreInput(),this.game.pickle.isHighestScore(this.score)&&console.log("highest"),this.highscoreList(),this.replayImage=this.game.add.sprite(this.game.width-2*this.padding,this.game.height-2*this.padding,"play"),this.replayImage.anchor.setTo(1,1),this.replayImage.scale.setTo(.25*this.game.width/this.replayImage.width),this.game.add.existing(this.replayImage),this.replayImage.inputEnabled=!0,this.replayImage.events.onInputOver.add(function(){this.replayImage.originalTint=this.replayImage.tint,this.replayImage.tint=8388607.5},this),this.replayImage.events.onInputOut.add(function(){this.replayImage.tint=this.replayImage.originalTint},this),this.replayImage.events.onInputDown.add(this.replay,this),this.leftButton=this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT),this.rightButton=this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT),this.upButton=this.game.input.keyboard.addKey(Phaser.Keyboard.UP),this.downButton=this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN),this.actionButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.leftButton.onDown.add(function(){this.hInput&&this.moveCursor(-1)},this),this.rightButton.onDown.add(function(){this.hInput&&this.moveCursor(1)},this),this.upButton.onDown.add(function(){this.hInput&&this.moveLetter(1)},this),this.downButton.onDown.add(function(){this.hInput&&this.moveLetter(-1)},this),this.actionButton.onDown.add(function(){this.hInput?this.saveHighscore():this.replay()},this)},update:function(){},shutdown:function(){["titleText","replayText"].forEach(_.bind(function(t){this[t]&&this[t].destroy&&(this[t].destroy(),this[t]=null)},this))},replay:function(){this.game.state.start("play")},highestScore:function(){this.highestScoreText=this.game.add.text(.5*this.game.world.width,.25*this.game.world.height,"You got the\nhighest score!!",{font:"bold "+this.game.world.height/15+"px Arial",fill:"#fff",align:"center"}),this.highestScoreText.anchor.set(.5)},highscoreInput:function(){this.hInput=!0,this.hInputIndex=0,this.hInputs=this.game.add.group();var t=new Phaser.Text(this.game,.33333*this.game.world.width,.5*this.game.world.height,"A",{font:"bold "+this.game.world.height/15+"px Arial",fill:"#FFFFFF",align:"center"});t.anchor.set(.5),this.hInputs.add(t);var e=new Phaser.Text(this.game,.5*this.game.world.width,.5*this.game.world.height,"A",{font:"bold "+this.game.world.height/15+"px Arial",fill:"#FFFFFF",align:"center"});e.anchor.set(.5),this.hInputs.add(e);var i=new Phaser.Text(this.game,.66666*this.game.world.width,.5*this.game.world.height,"A",{font:"bold "+this.game.world.height/15+"px Arial",fill:"#FFFFFF",align:"center"});i.anchor.set(.5),this.hInputs.add(i),this.hCursor=this.game.add.text(t.x,t.y-this.game.world.height/20,"_",{font:"bold "+this.game.world.height/5+"px Arial",fill:"#FFFFFF",align:"center"}),this.hCursor.anchor.set(.5),this.moveCursor(0)},moveCursor:function(t){var e=this.hInputIndex+t;this.hInputIndex=0>e?this.hInputs.length-1:e>=this.hInputs.length?0:e;var i=this.hInputs.getChildAt(this.hInputIndex);this.hCursor.x=i.x,this.hInputs.forEach(function(t){t.fill="#FFFFFF"}),i.fill="#FFDDBB"},moveLetter:function(t){var e=this.hInputs.getChildAt(this.hInputIndex),i=e.text,s="A"===i&&-1===t?"Z":"Z"===i&&1===t?"A":String.fromCharCode(i.charCodeAt(0)+t);e.text=s},saveHighscore:function(){var t="";this.hInputs.forEach(function(e){t+=e.text}),"AAA"!==t&&(this.game.pickle.setHighscore(this.score,t),this.hInput=!1,this.hInputs.destroy(),this.hCursor.destroy())},highscoreList:function(){this.game.pickle.highscores.length>0&&console.log(this.game.pickle.highscores)}}),e.exports=t}()},{}],8:[function(t,e,i){!function(){"use strict";var t=function(){Phaser.State.call(this),this.padding=20};t.prototype=Object.create(Phaser.State.prototype),t.prototype.constructor=t,_.extend(t.prototype,Phaser.State.prototype,{preload:function(){this.game.load.image("title","assets/title.png"),this.game.load.image("play","assets/title-play.png")},create:function(){this.game.stage.backgroundColor="#b8f4bc",this.titleImage=this.game.add.sprite(this.game.width/2,3*this.padding,"title"),this.titleImage.anchor.setTo(.5,0),this.titleImage.scale.setTo((this.game.width-2*this.padding)/this.titleImage.width),this.game.add.existing(this.titleImage),this.playImage=this.game.add.sprite(this.game.width/2,this.game.height-3*this.padding,"play"),this.playImage.anchor.setTo(.4,1),this.playImage.scale.setTo(.75*this.game.width/this.titleImage.width),this.game.add.existing(this.playImage),this.playImage.inputEnabled=!0,this.playImage.events.onInputOver.add(function(){this.playImage.originalTint=this.playImage.tint,this.playImage.tint=8388607.5},this),this.playImage.events.onInputOut.add(function(){this.playImage.tint=this.playImage.originalTint},this),this.playImage.events.onInputDown.add(this.go,this),this.actionButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.actionButton.onDown.add(function(){this.go()},this)},go:function(){this.game.state.start("play")},update:function(){}}),e.exports=t}()},{}],9:[function(t,e,i){!function(){"use strict";var i={Boost:t("./prefab-boost.js"),Botulism:t("./prefab-botulism.js"),Coin:t("./prefab-coin.js"),Hero:t("./prefab-hero.js"),Platform:t("./prefab-platform.js")},s=function(){Phaser.State.call(this)};s.prototype=Object.create(Phaser.State.prototype),s.prototype.constructor=s,_.extend(s.prototype,Phaser.State.prototype,{preload:function(){this.game.load.atlas("play-sprites","assets/determined-dill-sprites.png","assets/determined-dill-sprites.json")},create:function(){this.game.stage.backgroundColor="#b8f4bc",this.platformSpaceY=110,this.platformGapMax=200,this.hoverChance=.3,this.coinChance=.3,this.boostChance=.3,this.botChance=.1,this.scoreCoin=100,this.scoreBoost=300,this.scoreBot=500,this.resetViewTracking(),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.maxWidth=this.game.width,this.game.scale.maxHeight=this.game.height,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.physics.arcade.gravity.y=1e3,this.startY=this.game.height-5,this.hero=new i.Hero(this.game,0,0),this.hero.resetPlacement(.5*this.game.width,this.startY-this.hero.height),this.game.add.existing(this.hero),this.coins=this.game.add.group(),this.boosts=this.game.add.group(),this.bots=this.game.add.group(),this.addPlatforms(),this.resetScore(),this.updateScore(),this.cursors=this.game.input.keyboard.createCursorKeys(),this.actionButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)},update:function(){this.world.setBounds(0,-this.hero.yChange,this.game.world.width,this.game.height+this.hero.yChange),this.cameraYMin=Math.min(this.cameraYMin,this.hero.y-this.game.height/2),this.camera.y=this.cameraYMin,this.hero.y>this.cameraYMin+this.game.height+200&&this.gameOver(),this.hero.body.velocity.x=this.cursors.left.isDown?-(this.game.physics.arcade.gravity.y/5):this.cursors.right.isDown?this.game.physics.arcade.gravity.y/5:0,this.game.physics.arcade.collide(this.hero,this.platforms,this.updateHeroPlatform,null,this),this.game.physics.arcade.collide(this.hero,this.base,this.updateHeroPlatform,null,this),this.game.physics.arcade.overlap(this.hero,this.coins,function(t,e){e.kill(),this.updateScore(this.scoreCoin)},null,this),this.game.physics.arcade.overlap(this.hero,this.boosts,function(t,e){e.kill(),this.updateScore(this.scoreBoost),t.body.velocity.y=-1*this.game.physics.arcade.gravity.y*1.5},null,this),this.game.physics.arcade.collide(this.hero,this.bots,function(t,e){t.body.touching.down?(e.kill(),this.updateScore(this.scoreBot),t.body.velocity.y=-1*this.game.physics.arcade.gravity.y*.5):this.gameOver()},null,this),this.platforms.forEachAlive(function(t){var e;this.platformYMin=Math.min(this.platformYMin,t.y),t.y>this.camera.y+this.game.height&&(t.kill(),e=this.platforms.getFirstDead(),this.placePlatform(this.platforms.getFirstDead(),this.platforms.getTop()))},this),["coins","boosts","bots"].forEach(_.bind(function(t){this[t].forEachAlive(function(t){t.y>this.camera.y+this.game.height&&t.kill()},this)},this)),this.updateScore()},updateHeroPlatform:function(t){t.body.velocity.y=-1*this.game.physics.arcade.gravity.y*.7},shutdown:function(){this.world.setBounds(0,0,this.game.width,this.game.height),this.cursor=null,this.resetViewTracking(),this.resetScore(),["hero","platforms","coins","boosts","scoreText"].forEach(_.bind(function(t){this[t].destroy(),this[t]=null},this))},gameOver:function(){this.game.pickle.score=this.score,this.game.state.start("gameover")},addPlatforms:function(){this.platforms=this.game.add.group(),this.base=new i.Platform(this.game,.5*this.game.width,this.startY,2*this.game.width),this.game.add.existing(this.base);var t;_.each(_.range(20),_.bind(function(e){var s=new i.Platform(this.game,0,0);this.placePlatform(s,t,this.world.height-this.platformSpaceY-this.platformSpaceY*e),this.platforms.add(s),t=s},this))},placePlatform:function(t,e,i){t.resetSettings();var s=i||this.platformYMin-this.platformSpaceY,h=t.minX,o=t.maxX,a=this.rnd.integerInRange(h,o);e&&(a=this.rnd.integerInRange(e.x-this.platformGapMax,e.x+this.platformGapMax),a=0>a?Math.min(o,this.world.width+a):Math.max(a,h),a=a>this.world.width?Math.max(h,a-this.world.width):Math.min(a,o)),t.reset(a,s),this.fluffPlatform(t)},fluffPlatform:function(t){var e=t.x,i=t.y-t.height/2-30;Math.random()<=this.hoverChance?t.hover=!0:Math.random()<=this.coinChance?this.addWithPool(this.coins,"Coin",e,i):Math.random()<=this.boostChance?this.addWithPool(this.boosts,"Boost",e,i):Math.random()<=this.botChance&&this.addWithPool(this.bots,"Botulism",e,i)},addWithPool:function(t,e,s,h){var o=t.getFirstDead();o=o||new i[e](this.game,s,h),o.resetPlacement?o.resetPlacement(s,h):o.reset(s,h),t.add(o)},updateScore:function(t){t=t||0,this.scoreUp=-this.cameraYMin>=9999999?0:Math.min(Math.max(0,-this.cameraYMin),9999998),this.scoreCollect=(this.scoreCollect||0)+t,this.score=Math.round(this.scoreUp+this.scoreCollect),this.scoreText?this.scoreText.text="Score: "+this.score:(this.scoreText=this.game.add.text(10,this.game.height-10,"Score: "+this.score,{font:"bold "+this.game.world.height/25+"px Arial",fill:"#fff",align:"center"}),this.scoreText.anchor.set(0,1),this.scoreText.fixedToCamera=!0,this.scoreText.cameraOffset.setTo(10,this.game.height-10))},resetScore:function(){this.scoreUp=0,this.scoreCollect=0,this.score=0},resetViewTracking:function(){this.cameraYMin=9999999,this.platformYMin=9999999},isTouching:function(t){return t&&t.touch?t.touching.up||t.touching.down||t.touching.left||t.touching.right:!1}}),e.exports=s}()},{"./prefab-boost.js":2,"./prefab-botulism.js":3,"./prefab-coin.js":4,"./prefab-hero.js":5,"./prefab-platform.js":6}]},{},[1]);