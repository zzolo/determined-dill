!function t(i,e,s){function h(a,r){if(!e[a]){if(!i[a]){var n="function"==typeof require&&require;if(!r&&n)return n(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=e[a]={exports:{}};i[a][0].call(c.exports,function(t){var e=i[a][1][t];return h(e?e:t)},c,c.exports,t,i,e,s)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)h(s[a]);return h}({1:[function(t,i,e){!function(){"use strict";var i={Gameover:t("./pickle-jumper/state-gameover.js"),Play:t("./pickle-jumper/state-play.js"),Menu:t("./pickle-jumper/state-menu.js")},e=window.Pickle=function(t){this.options=t,this.el=this.options.el,this.$el=$(this.options.el),this.$=function(){return $(t.el).find},this.width=this.$el.width(),this.height=$(window).height(),this.start()};_.extend(e.prototype,{start:function(){this.game=new Phaser.Game(this.width,this.height,Phaser.AUTO,this.el.replace("#","")),this.game.pickle=this,this.game.state.add("menu",i.Menu),this.game.state.add("play",i.Play),this.game.state.add("gameover",i.Gameover),this.highscoreLimit=10,this.getHighscores(),this.game.state.start("menu"),this.options.debug&&this.game.camera&&this.game.debug.cameraInfo(this.game.camera,10,10),this.options.debug&&(this.resetHighscores(),this.getHighscores())},getHighscores:function(){var t=window.localStorage.getItem("highscores");return t=t?JSON.parse(t):[],this.highscores=t,this.sortHighscores(),this.highscores},getHighscore:function(){return _.max(this.highscores,"score")},setHighscore:function(t,i){this.isHighscore(t)&&(this.sortHighscores(),this.highscores.length>=this.highscoreLimit&&this.highscores.shift(),this.highscores.push({name:i,score:t}),this.sortHighscores(),this.setHighscores())},sortHighscores:function(){this.highscores=_.sortBy(this.highscores,"score")},isHighscore:function(t){var i=_.min(this.highscores,"score").score;return t>i||this.highscores.length<this.highscoreLimit},isHighestScore:function(t){var i=_.max(this.highscores,"score").score||0;return t>i},setHighscores:function(){window.localStorage.setItem("highscores",JSON.stringify(this.highscores))},resetHighscores:function(){window.localStorage.removeItem("highscores")}});var s;s=new e({el:"#pickle-jumper",debug:!1})}()},{"./pickle-jumper/state-gameover.js":7,"./pickle-jumper/state-menu.js":8,"./pickle-jumper/state-play.js":9}],2:[function(t,i,e){!function(){"use strict";var t=function(t,i,e){Phaser.Sprite.call(this,t,i,e,"play-sprites","dill.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/9/this.width),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){}}),i.exports=t}()},{}],3:[function(t,i,e){!function(){"use strict";var t=function(t,i,e){Phaser.Sprite.call(this,t,i,e,"play-sprites","botchy.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/10/this.width),this.hover=!0,this.setHoverSpeed(100),this.hoverRange=100,this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0,this.paddingX=10,this.resetPlacement(i,e)};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){this.hover&&(this.body.velocity.x=this.body.velocity.x||this.hoverSpeed,this.body.velocity.x=this.x<=this.minX?this.hoverSpeed:this.x>=this.maxX?-this.hoverSpeed:this.body.velocity.x)},setHoverSpeed:function(t){this.hoverSpeed=t+this.game.rnd.integerInRange(-25,25)},getAnchorBoundsX:function(){return this.minX=Math.max(this.x-this.hoverRange,this.paddingX+this.width/2),this.maxX=Math.min(this.x+this.hoverRange,this.game.width-(this.paddingX+this.width/2)),[this.minX,this.maxX]},resetPlacement:function(t,i){this.reset(t,i),this.body.velocity.x=0,this.getAnchorBoundsX()}}),i.exports=t}()},{}],4:[function(t,i,e){!function(){"use strict";var t=function(t,i,e){Phaser.Sprite.call(this,t,i,e,"play-sprites","magicdill.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/20/this.width),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){}}),i.exports=t}()},{}],5:[function(t,i,e){!function(){"use strict";var t=function(t,i,e){Phaser.Sprite.call(this,t,i,e,"play-sprites","pickle.png"),this.anchor.setTo(.5),this.scale.setTo(this.game.width/25/this.width),this.game.physics.arcade.enableBody(this),this.yOrig=this.y,this.yChange=0};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){this.yChange=Math.max(this.yChange,Math.abs(this.y-this.yOrig)),this.game.world.wrap(this,this.width/2,!1,!0,!1)},resetPlacement:function(t,i){this.reset(t,i),this.yOrig=this.y,this.yChange=0}}),i.exports=t}()},{}],6:[function(t,i,e){!function(){"use strict";var t=function(t,i,e){Phaser.Sprite.call(this,t,i,e,"play-sprites","dillybean.png"),this.anchor.setTo(.5,.5),this.scale.setTo(this.game.width/5/this.width),this.hover=!1,this.setHoverSpeed(100),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.body.immovable=!0,this.body.checkCollision.down=!1,this.body.checkCollision.left=!1,this.body.checkCollision.right=!1,this.paddingX=10,this.getAnchorBoundsX()};t.prototype=Object.create(Phaser.Sprite.prototype),t.prototype.constructor=t,_.extend(t.prototype,{update:function(){this.hover&&(this.body.velocity.x=this.body.velocity.x||this.hoverSpeed,this.body.velocity.x=this.x<=this.minX?this.hoverSpeed:this.x>=this.maxX?-this.hoverSpeed:this.body.velocity.x)},setHoverSpeed:function(t){this.hoverSpeed=t+this.game.rnd.integerInRange(-50,50)},getAnchorBoundsX:function(){return this.minX=this.paddingX+this.width/2,this.maxX=this.game.width-(this.paddingX+this.width/2),[this.minX,this.maxX]},resetSettings:function(){this.reset(0,0),this.body.velocity.x=0,this.hover=!1,this.getAnchorBoundsX()}}),i.exports=t}()},{}],7:[function(t,i,e){!function(){"use strict";var t=function(){Phaser.State.call(this),this.padding=10};t.prototype=Object.create(Phaser.State.prototype),t.prototype.constructor=t,_.extend(t.prototype,Phaser.State.prototype,{preload:function(){this.game.load.image("gameover","assets/gameover.png"),this.game.load.image("play","assets/title-play.png"),this.game.load.image("your-score","assets/your-score.png")},create:function(){this.game.stage.backgroundColor="#8cc63f",this.titleImage=this.game.add.sprite(this.game.width/2,3*this.padding,"gameover"),this.titleImage.anchor.setTo(.5,0),this.titleImage.scale.setTo((this.game.width-8*this.padding)/this.titleImage.width),this.game.add.existing(this.titleImage),this.score=this.game.pickle.score,this.showScore(),this.game.pickle.isHighscore(this.score)?this.highscoreInput():this.highscoreList(),this.replayImage=this.game.add.sprite(this.game.width-2*this.padding,this.game.height-2*this.padding,"play"),this.replayImage.anchor.setTo(1,1),this.replayImage.scale.setTo(.25*this.game.width/this.replayImage.width),this.game.add.existing(this.replayImage),this.replayImage.inputEnabled=!0,this.replayImage.events.onInputOver.add(function(){this.replayImage.originalTint=this.replayImage.tint,this.replayImage.tint=8388607.5},this),this.replayImage.events.onInputOut.add(function(){this.replayImage.tint=this.replayImage.originalTint},this),this.replayImage.events.onInputDown.add(this.replay,this),this.leftButton=this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT),this.rightButton=this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT),this.upButton=this.game.input.keyboard.addKey(Phaser.Keyboard.UP),this.downButton=this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN),this.actionButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.leftButton.onDown.add(function(){this.hInput&&this.moveCursor(-1)},this),this.rightButton.onDown.add(function(){this.hInput&&this.moveCursor(1)},this),this.upButton.onDown.add(function(){this.hInput&&this.moveLetter(1)},this),this.downButton.onDown.add(function(){this.hInput&&this.moveLetter(-1)},this),this.actionButton.onDown.add(function(){var t;this.hInput?(t=this.saveHighscore(),t&&this.highscoreList()):this.replay()},this)},update:function(){},shutdown:function(){["titleText","replayText"].forEach(_.bind(function(t){this[t]&&this[t].destroy&&(this[t].destroy(),this[t]=null)},this))},replay:function(){this.game.state.start("menu")},showScore:function(){this.scoreGroup=this.game.add.group(),this.yourScoreImage=this.game.add.sprite(this.game.width/2+3*this.padding,this.titleImage.height+7.5*this.padding,"your-score"),this.yourScoreImage.anchor.setTo(1,0),this.yourScoreImage.scale.setTo((this.game.width/2-6*this.padding)/this.yourScoreImage.width),this.scoreText=new Phaser.Text(this.game,this.game.width/2+5*this.padding,this.titleImage.height+6*this.padding,this.score.toLocaleString(),{font:"bold "+this.game.world.height/15+"px Dosis",fill:"#39b54a",align:"left"}),this.scoreText.anchor.setTo(0,0),_.delay(_.bind(function(){this.scoreGroup.add(this.yourScoreImage),this.scoreGroup.add(this.scoreText)},this),1e3)},highscoreInput:function(){this.hInput=!0,this.hInputIndex=0,this.hInputs=this.game.add.group();var t=.7*this.game.world.height,i=new Phaser.Text(this.game,.33333*this.game.world.width,t,"A",{font:"bold "+this.game.world.height/15+"px Dosis",fill:"#FFFFFF",align:"center"});i.anchor.set(.5),this.hInputs.add(i);var e=new Phaser.Text(this.game,.5*this.game.world.width,t,"A",{font:"bold "+this.game.world.height/15+"px Dosis",fill:"#FFFFFF",align:"center"});e.anchor.set(.5),this.hInputs.add(e);var s=new Phaser.Text(this.game,.66666*this.game.world.width,t,"A",{font:"bold "+this.game.world.height/15+"px Dosis",fill:"#FFFFFF",align:"center"});s.anchor.set(.5),this.hInputs.add(s),this.hCursor=this.game.add.text(i.x,i.y-this.game.world.height/20,"_",{font:"bold "+this.game.world.height/5+"px Arial",fill:"#FFFFFF",align:"center"}),this.hCursor.anchor.set(.5),this.moveCursor(0)},moveCursor:function(t){var i=this.hInputIndex+t;this.hInputIndex=0>i?this.hInputs.length-1:i>=this.hInputs.length?0:i;var e=this.hInputs.getChildAt(this.hInputIndex);this.hCursor.x=e.x,this.hInputs.forEach(function(t){t.fill="#FFFFFF"}),e.fill="#FFDDBB"},moveLetter:function(t){var i=this.hInputs.getChildAt(this.hInputIndex),e=i.text,s="A"===e&&-1===t?"Z":"Z"===e&&1===t?"A":String.fromCharCode(e.charCodeAt(0)+t);i.text=s},saveHighscore:function(){var t="";return this.hInputs.forEach(function(i){t+=i.text}),"AAA"===t?!1:(this.game.pickle.setHighscore(this.score,t),this.hInput=!1,this.hInputs.destroy(),this.hCursor.destroy(),!0)},highscoreList:function(){this.highscoreLimit=3,this.highscoreListGroup=this.game.add.group(),this.game.pickle.sortHighscores();var t=this.game.world.height/17.5;this.game.pickle.highscores.length>0&&_.each(this.game.pickle.highscores.reverse().slice(0,3),_.bind(function(i,e){var s=new Phaser.Text(this.game,this.game.width/2+3*this.padding,.6*this.game.height+(t+this.padding)*e,i.name,{font:"bold "+this.game.world.height/15+"px Dosis",fill:"#b8f4bc",align:"right"});s.anchor.setTo(1,0);var h=new Phaser.Text(this.game,this.game.width/2+5*this.padding,.6*this.game.height+(t+this.padding)*e,i.score.toLocaleString(),{font:"bold "+this.game.world.height/15+"px Dosis",fill:"#39b54a",align:"left"});h.anchor.setTo(0,0),_.delay(_.bind(function(){this.highscoreListGroup.add(s),this.highscoreListGroup.add(h)},this),1e3)},this))}}),i.exports=t}()},{}],8:[function(t,i,e){!function(){"use strict";var t=function(){Phaser.State.call(this),this.padding=20};t.prototype=Object.create(Phaser.State.prototype),t.prototype.constructor=t,_.extend(t.prototype,Phaser.State.prototype,{preload:function(){this.game.load.image("title","assets/title.png"),this.game.load.image("play","assets/title-play.png")},create:function(){this.game.stage.backgroundColor="#b8f4bc",this.titleImage=this.game.add.sprite(this.game.width/2,3*this.padding,"title"),this.titleImage.anchor.setTo(.5,0),this.titleImage.scale.setTo((this.game.width-2*this.padding)/this.titleImage.width),this.game.add.existing(this.titleImage),this.playImage=this.game.add.sprite(this.game.width/2,this.game.height-3*this.padding,"play"),this.playImage.anchor.setTo(.4,1),this.playImage.scale.setTo(.75*this.game.width/this.titleImage.width),this.game.add.existing(this.playImage),this.playImage.inputEnabled=!0,this.playImage.events.onInputOver.add(function(){this.playImage.originalTint=this.playImage.tint,this.playImage.tint=8388607.5},this),this.playImage.events.onInputOut.add(function(){this.playImage.tint=this.playImage.originalTint},this),this.playImage.events.onInputDown.add(this.go,this),this.actionButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.actionButton.onDown.add(function(){this.go()},this)},go:function(){this.game.state.start("play")},update:function(){}}),i.exports=t}()},{}],9:[function(t,i,e){!function(){"use strict";var e={Boost:t("./prefab-boost.js"),Botulism:t("./prefab-botulism.js"),Coin:t("./prefab-coin.js"),Hero:t("./prefab-hero.js"),Platform:t("./prefab-platform.js")},s=function(){Phaser.State.call(this)};s.prototype=Object.create(Phaser.State.prototype),s.prototype.constructor=s,_.extend(s.prototype,Phaser.State.prototype,{preload:function(){this.game.load.atlas("play-sprites","assets/determined-dill-sprites.png","assets/determined-dill-sprites.json")},create:function(){this.game.stage.backgroundColor="#b8f4bc",this.platformSpaceY=110,this.platformGapMax=200,this.hoverChance=.3,this.coinChance=.3,this.boostChance=.3,this.botChance=.1,this.scoreCoin=100,this.scoreBoost=300,this.scoreBot=500,this.padding=10,this.resetViewTracking(),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.maxWidth=this.game.width,this.game.scale.maxHeight=this.game.height,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.physics.arcade.gravity.y=1e3,this.startY=this.game.height-5,this.hero=new e.Hero(this.game,0,0),this.hero.resetPlacement(.5*this.game.width,this.startY-this.hero.height),this.game.add.existing(this.hero),this.coins=this.game.add.group(),this.boosts=this.game.add.group(),this.bots=this.game.add.group(),this.addPlatforms(),this.resetScore(),this.updateScore(),this.cursors=this.game.input.keyboard.createCursorKeys(),this.actionButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)},update:function(){this.world.setBounds(0,-this.hero.yChange,this.game.world.width,this.game.height+this.hero.yChange),this.cameraYMin=Math.min(this.cameraYMin,this.hero.y-this.game.height/2),this.camera.y=this.cameraYMin,this.hero.y>this.cameraYMin+this.game.height+200&&this.gameOver(),this.hero.body.velocity.x=this.cursors.left.isDown?-(this.game.physics.arcade.gravity.y/5):this.cursors.right.isDown?this.game.physics.arcade.gravity.y/5:0,this.game.physics.arcade.collide(this.hero,this.platforms,this.updateHeroPlatform,null,this),this.game.physics.arcade.collide(this.hero,this.base,this.updateHeroPlatform,null,this),this.game.physics.arcade.overlap(this.hero,this.coins,function(t,i){i.kill(),this.updateScore(this.scoreCoin)},null,this),this.game.physics.arcade.overlap(this.hero,this.boosts,function(t,i){i.kill(),this.updateScore(this.scoreBoost),t.body.velocity.y=-1*this.game.physics.arcade.gravity.y*1.5},null,this),this.game.physics.arcade.collide(this.hero,this.bots,function(t,i){t.body.touching.down?(i.kill(),this.updateScore(this.scoreBot),t.body.velocity.y=-1*this.game.physics.arcade.gravity.y*.5):this.gameOver()},null,this),this.platforms.forEachAlive(function(t){var i;this.platformYMin=Math.min(this.platformYMin,t.y),t.y>this.camera.y+this.game.height&&(t.kill(),i=this.platforms.getFirstDead(),this.placePlatform(this.platforms.getFirstDead(),this.platforms.getTop()))},this),["coins","boosts","bots"].forEach(_.bind(function(t){this[t].forEachAlive(function(t){t.y>this.camera.y+this.game.height&&t.kill()},this)},this)),this.updateScore()},updateHeroPlatform:function(t){t.body.velocity.y=-1*this.game.physics.arcade.gravity.y*.7},shutdown:function(){this.world.setBounds(0,0,this.game.width,this.game.height),this.cursor=null,this.resetViewTracking(),this.resetScore(),["hero","platforms","coins","boosts","scoreGroup"].forEach(_.bind(function(t){this[t].destroy(),this[t]=null},this))},gameOver:function(){this.game.pickle.score=this.score,this.game.state.start("gameover")},addPlatforms:function(){this.platforms=this.game.add.group(),this.base=new e.Platform(this.game,.5*this.game.width,this.startY,2*this.game.width),this.game.add.existing(this.base);var t;_.each(_.range(20),_.bind(function(i){var s=new e.Platform(this.game,0,0);this.placePlatform(s,t,this.world.height-this.platformSpaceY-this.platformSpaceY*i),this.platforms.add(s),t=s},this))},placePlatform:function(t,i,e){t.resetSettings();var s=e||this.platformYMin-this.platformSpaceY,h=t.minX,o=t.maxX,a=this.rnd.integerInRange(h,o);i&&(a=this.rnd.integerInRange(i.x-this.platformGapMax,i.x+this.platformGapMax),a=0>a?Math.min(o,this.world.width+a):Math.max(a,h),a=a>this.world.width?Math.max(h,a-this.world.width):Math.min(a,o)),t.reset(a,s),this.fluffPlatform(t)},fluffPlatform:function(t){var i=t.x,e=t.y-t.height/2-30;Math.random()<=this.hoverChance?t.hover=!0:Math.random()<=this.coinChance?this.addWithPool(this.coins,"Coin",i,e):Math.random()<=this.boostChance?this.addWithPool(this.boosts,"Boost",i,e):Math.random()<=this.botChance&&this.addWithPool(this.bots,"Botulism",i,e)},addWithPool:function(t,i,s,h){var o=t.getFirstDead();o=o||new e[i](this.game,s,h),o.resetPlacement?o.resetPlacement(s,h):o.reset(s,h),t.add(o)},updateScore:function(t){t=t||0,this.scoreUp=-this.cameraYMin>=9999999?0:Math.min(Math.max(0,-this.cameraYMin),9999998),this.scoreCollect=(this.scoreCollect||0)+t,this.score=Math.round(this.scoreUp+this.scoreCollect),this.scoreGroup?this.scoreText.text=this.score.toLocaleString():(this.scoreGroup=this.game.add.group(),this.scoreLabelImage=this.game.add.sprite(this.padding,.85*this.padding,"play-sprites","your-score.png"),this.scoreLabelImage.anchor.setTo(0,0),this.scoreLabelImage.scale.setTo(this.game.width/6/this.scoreLabelImage.width),this.scoreGroup.add(this.scoreLabelImage),this.scoreText=this.game.add.text(this.scoreLabelImage.width+2*this.padding,.25*this.padding,this.score.toLocaleString(),{font:"bold "+this.game.world.height/40+"px Dosis",fill:"#39b54a",align:"left"}),this.scoreText.anchor.setTo(0,0),this.scoreGroup.add(this.scoreText),this.scoreGroup.fixedToCamera=!0,this.scoreGroup.cameraOffset.setTo(this.padding,this.padding))},resetScore:function(){this.scoreUp=0,this.scoreCollect=0,this.score=0},resetViewTracking:function(){this.cameraYMin=9999999,this.platformYMin=9999999},isTouching:function(t){return t&&t.touch?t.touching.up||t.touching.down||t.touching.left||t.touching.right:!1}}),i.exports=s}()},{"./prefab-boost.js":2,"./prefab-botulism.js":3,"./prefab-coin.js":4,"./prefab-hero.js":5,"./prefab-platform.js":6}]},{},[1]);